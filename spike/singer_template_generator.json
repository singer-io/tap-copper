{
  "tap_name": "copper",
  "required_config_keys": [
    "api_key",
    "user_email"
  ],
  "headers": {
    "X-PW-AccessToken": "{{ api_key }}",
    "X-PW-Application": "developer_api",
    "X-PW-UserEmail": "{{ user_email }}",
    "Content-Type": "application/json",
    "Accept": "application/json"
  },
  "base_url": "https://api.copper.com/developer_api/v1/",
  "streams": [
    {
      "name": "account",
      "path": "account",
      "method": "GET",
      "data_key": "root",
      "replication_method": "FULL_TABLE",
      "key_properties": ["id"],
      "pagination": { "type": "none" },
      "doc_link": "https://developer.copper.com/account-and-users/fetch-account-details.html",
      "schema_file": "schemas/account.json"
    },
    {
      "name": "activities_search",
      "path": "activities/search",
      "method": "POST",
      "data_key": null,
      "replication_method": "INCREMENTAL",
      "replication_key": "date_modified",
      "key_properties": ["id"],
      "request_body_template": {
        "page_number": 1,
        "page_size": 200
      },
      "pagination": {
        "type": "page_number",
        "param": "page_number",
        "start": 1,
        "page_size_param": "page_size",
        "until_response_lt_page_size": true
      },
      "doc_link": "https://developer.copper.com/activities/list-activities-search.html",
      "schema_file": "schemas/activities_search.json"
    },
    {
      "name": "companies",
      "path": "companies/search",
      "method": "POST",
      "data_key": null,
      "replication_method": "INCREMENTAL",
      "replication_key": "date_modified",
      "key_properties": ["id"],
      "request_body_template": {
        "page_number": 1,
        "page_size": 200,
        "sort_by": "name",
        "minimum_modified_date": "{STATE.last_companies_date_modified|0}"
      },
      "pagination": {
        "type": "page_number",
        "param": "page_number",
        "start": 1,
        "page_size_param": "page_size",
        "until_response_lt_page_size": true
      },
      "doc_link": "https://developer.copper.com/companies/list-companies-search.html",
      "schema_file": "schemas/companies.json"
    },
    {
      "name": "contact_types",
      "path": "contact_types",
      "method": "GET",
      "data_key": "root",
      "replication_method": "FULL_TABLE",
      "key_properties": ["id"],
      "pagination": { "type": "none" },
      "doc_link": "https://developer.copper.com/people/list-contact-types.html",
      "schema_file": "schemas/contact_types.json"
    },
    {
      "name": "custom_field_definitions",
      "path": "custom_field_definitions",
      "method": "GET",
      "data_key": "root",
      "replication_method": "FULL_TABLE",
      "key_properties": ["id"],
      "pagination": { "type": "none" },
      "doc_link": "https://developer.copper.com/custom-fields/general/list-custom-field-definitions.html",
      "schema_file": "schemas/custom_field_definitions.json"
    },
    {
      "name": "customer_sources",
      "path": "customer_sources",
      "method": "GET",
      "data_key": "root",
      "replication_method": "FULL_TABLE",
      "key_properties": ["id"],
      "pagination": { "type": "none" },
      "doc_link": "https://developer.copper.com/leads/list-customer-sources.html",
      "schema_file": "schemas/customer_sources.json"
    },
    {
      "name": "lead_statuses",
      "path": "lead_statuses",
      "method": "GET",
      "data_key": "root",
      "replication_method": "FULL_TABLE",
      "key_properties": ["id"],
      "pagination": { "type": "none" },
      "doc_link": "https://developer.copper.com/leads/list-lead-statuses.html",
      "schema_file": "schemas/lead_statuses.json"
    },
    {
      "name": "leads",
      "path": "leads/search",
      "method": "POST",
      "data_key": null,
      "replication_method": "INCREMENTAL",
      "replication_key": "date_modified",
      "key_properties": ["id"],
      "request_body_template": {
        "page_number": 1,
        "page_size": 200,
        "sort_by": "name",
        "minimum_modified_date": "{STATE.last_leads_date_modified|0}"
      },
      "pagination": {
        "type": "page_number",
        "param": "page_number",
        "start": 1,
        "page_size_param": "page_size",
        "until_response_lt_page_size": true
      },
      "doc_link": "https://developer.copper.com/leads/list-leads-search.html",
      "schema_file": "schemas/leads.json"
    },
    {
      "name": "loss_reasons",
      "path": "loss_reasons",
      "method": "GET",
      "data_key": "root",
      "replication_method": "FULL_TABLE",
      "key_properties": ["id"],
      "pagination": { "type": "none" },
      "doc_link": "https://developer.copper.com/opportunities/list-loss-reasons.html",
      "schema_file": "schemas/loss_reasons.json"
    },
    {
      "name": "opportunities",
      "parent": "companies",
      "path": "opportunities/search",
      "method": "POST",
      "data_key": null,
      "replication_method": "INCREMENTAL",
      "replication_key": "date_modified",
      "key_properties": ["id"],
      "request_body_template": {
        "page_number": 1,
        "page_size": 200,
        "sort_by": "name",
        "minimum_modified_date": "{STATE.last_opportunities_date_modified|0}"
      },
      "pagination": {
        "type": "page_number",
        "param": "page_number",
        "start": 1,
        "page_size_param": "page_size",
        "until_response_lt_page_size": true
      },
      "doc_link": "https://developer.copper.com/opportunities/list-opportunities-search.html",
      "schema_file": "schemas/opportunities.json"
    },
    {
      "name": "people",
      "parent": "companies",
      "path": "people/search",
      "method": "POST",
      "data_key": null,
      "replication_method": "INCREMENTAL",
      "replication_key": "date_modified",
      "key_properties": ["id"],
      "request_body_template": {
        "page_number": 1,
        "page_size": 200,
        "sort_by": "name",
        "minimum_modified_date": "{STATE.last_people_date_modified|0}"
      },
      "pagination": {
        "type": "page_number",
        "param": "page_number",
        "start": 1,
        "page_size_param": "page_size",
        "until_response_lt_page_size": true
      },
      "doc_link": "https://developer.copper.com/people/list-people-search.html",
      "schema_file": "schemas/people.json"
    },
    {
      "name": "pipeline_stages",
      "parent": "pipelines",
      "path": "pipeline_stages",
      "method": "GET",
      "data_key": "root",
      "replication_method": "FULL_TABLE",
      "key_properties": ["id"],
      "pagination": { "type": "none" },
      "doc_link": "https://developer.copper.com/opportunities/list-pipeline-stages.html",
      "schema_file": "schemas/pipeline_stages.json"
    },
    {
      "name": "pipelines",
      "path": "pipelines",
      "method": "GET",
      "data_key": "root",
      "replication_method": "FULL_TABLE",
      "key_properties": ["id"],
      "pagination": { "type": "none" },
      "doc_link": "https://developer.copper.com/opportunities/list-pipelines.html",
      "schema_file": "schemas/pipelines.json"
    },
    {
      "name": "projects",
      "path": "projects/search",
      "method": "POST",
      "data_key": null,
      "replication_method": "INCREMENTAL",
      "replication_key": "date_modified",
      "key_properties": ["id"],
      "request_body_template": {
        "page_number": 1,
        "page_size": 200,
        "sort_by": "name",
        "minimum_modified_date": "{STATE.last_projects_date_modified|0}"
      },
      "pagination": {
        "type": "page_number",
        "param": "page_number",
        "start": 1,
        "page_size_param": "page_size",
        "until_response_lt_page_size": true
      },
      "doc_link": "https://developer.copper.com/projects/list-projects-search.html",
      "schema_file": "schemas/projects.json"
    },
    {
      "name": "tags",
      "path": "tags",
      "method": "GET",
      "params": { "sort_by": "name" },
      "data_key": "root",
      "replication_method": "FULL_TABLE",
      "key_properties": ["name"],
      "pagination": { "type": "none" },
      "doc_link": "https://developer.copper.com/tags/list-tags.html",
      "schema_file": "schemas/tags.json"
    },
    {
      "name": "tasks",
      "path": "tasks/search",
      "method": "POST",
      "data_key": null,
      "replication_method": "INCREMENTAL",
      "replication_key": "date_modified",
      "key_properties": ["id"],
      "request_body_template": {
        "page_number": 1,
        "page_size": 200,
        "sort_by": "name",
        "minimum_modified_date": "{STATE.last_tasks_date_modified|0}"
      },
      "pagination": {
        "type": "page_number",
        "param": "page_number",
        "start": 1,
        "page_size_param": "page_size",
        "until_response_lt_page_size": true
      },
      "doc_link": "https://developer.copper.com/tasks/list-tasks-search.html",
      "schema_file": "schemas/tasks.json"
    },
    {
      "name": "users",
      "path": "users/search",
      "method": "POST",
      "data_key": null,
      "replication_method": "FULL_TABLE",
      "key_properties": ["id"],
      "request_body_template": {
        "page_number": 1,
        "page_size": 200,
        "sort_by": "name"
      },
      "pagination": {
        "type": "page_number",
        "param": "page_number",
        "start": 1,
        "page_size_param": "page_size",
        "until_response_lt_page_size": true
      },
      "doc_link": "https://developer.copper.com/account-and-users/list-users.html",
      "schema_file": "schemas/users.json"
    }
  ],
  "tap_tester_creds": {
    "access_token": "Copper_API_Key",
    "project_id": "12345678"
  },
  "author": "Stitch",
  "third_party_dependencies": [
    "singer-python==5.12.1",
    "requests==2.31.0"
  ]
}
